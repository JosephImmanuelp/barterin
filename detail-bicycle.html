<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detail Bicycle – Barterin</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="home-bg">
  <!-- NAVBAR -->
  <header class="navbar">
    <a href="home_user.html" class="logo-link">
      <img src="icons/logo.png" alt="Barterin Logo" class="logo" />
    </a>
    <div class="nav-center">
      <div class="dropdown">
        <button class="categories-btn" id="categoriesToggle">
          <img src="icons/categories.svg" alt="Categories" class="icon" />
          <span>Categories</span>
          <svg class="icon-dropdown" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
        </button>
        <ul class="dropdown-menu" id="categoriesMenu">
          <li><a href="categories/electronics.html">Electronics</a></li>
          <li><a href="categories/clothing.html">Clothing</a></li>
          <li><a href="categories/furniture.html">Furniture</a></li>
          <li><a href="categories/toys.html">Toys</a></li>
        </ul>
      </div>
      <div class="search-bar">
        <input type="text" placeholder="Search items…" />
        <img src="icons/search.png" alt="Search" class="icon-search" />
      </div>
    </div>
    <div class="nav-right">
      <div class="welcome-container">
        <span class="welcome-text">Welcome,</span>
        <span class="username">Joseph Immanuel</span>
      </div>
      <a href="favorites.html" class="action-icon-link">
        <img src="icons/heart.svg" alt="Favorites" class="icon action-icon" />
      </a>
      <a href="my-trades.html" class="action-icon-link">
        <img src="icons/cart.svg" alt="My Trades" class="icon action-icon" />
      </a>
      <button id="btnLogout" class="action-btn">Logout</button>
    </div>
  </header>

  <!-- DETAIL CONTENT -->
  <main class="container">
    <section class="detail-item">
      <div class="detail-thumb">
        <img src="images/bicycle.jpg" alt="Bicycle" />
      </div>
      <div class="detail-info">
        <h1>Bicycle</h1>
        <p class="price-value">$100</p>

        <!-- Detail Uploader -->
        <div class="uploader-info">
          <img src="images/user-maria.jpg" alt="Maria Tan" class="uploader-photo" />
          <span class="uploader-name">Maria Tan</span>
        </div>

        <p class="detail-desc">
          Vintage city bicycle in good condition. Frame size medium, recently serviced,
          includes front light and bell. Perfect for daily commute or weekend leisure rides.
        </p>
        <div class="detail-actions">
          <a href="offer-trade-bicycle.html" class="btn-primary">Offer Trade</a>
          <a href="chat-bicycle.html" class="btn-secondary">Chat to Negotiate</a>
          <button id="shareBtn" class="btn-secondary">Share</button>
          <button id="favBtn" class="btn-secondary">Save to Favorites</button>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    &copy; 2025 Barterin. All rights reserved.
  </footer>

  <!-- SCRIPTS -->
  <script>
    // Dropdown Categories
    document.getElementById('categoriesToggle').addEventListener('click', () => {
      document.getElementById('categoriesMenu').classList.toggle('show');
    });
    document.addEventListener('click', e => {
      if (!e.target.closest('.dropdown')) {
        document.getElementById('categoriesMenu').classList.remove('show');
      }
    });
    // Logout
    document.getElementById('btnLogout').addEventListener('click', () => {
      localStorage.removeItem('isLoggedIn');
      window.location.replace('home_guest.html');
    });
    // Share
    document.getElementById('shareBtn').addEventListener('click', () => {
      if (navigator.share) {
        navigator.share({ title: 'Bicycle on Barterin', url: window.location.href });
      } else {
        alert('Share feature not supported on this browser.');
      }
    });
    // Favorites
    document.getElementById('favBtn').addEventListener('click', () => {
      window.location.href = 'favorites.html';
    });
  </script>
</body>
</html>
